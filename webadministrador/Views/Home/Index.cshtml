@model Modelo.c3_dominio.entidad.servicios.ContactoServicio
@{
    ViewBag.Title = "Contactos";
}
@if (Session["LogedUserFullname"] != null)
{
    if (Session["PermisoMensaje"].ToString() == "True" && Session["PermisoUsuario"].ToString() == "True" && Session["PermisoCategoria"].ToString() == "True")
    {
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Mensajes</h3>
                    </div><!-- /.box-header -->
                    <div class="box-body no-padding">
                        <div class="mailbox-controls">
                            <!-- Check all button -->
                            <button class="btn btn-default btn-sm" onClick="location.href='@Url.Action("Index", "Home")'"><i class="fa fa-refresh"></i></button>
                        </div>
                        <div class="table-responsive mailbox-messages">
                            <table class="table table-hover table-striped">
                                <tbody>
                                    @foreach (var item in Model.listaContacto)
                                    {
                                        if (item.visto)
                                        {
                                            <tr>
                                                <td class="mailbox-star"><a href="@Url.Action("MostrarContacto", "Home", new { codigoContacto = item.codigoContacto })"><i class="fa fa-star-o text-yellow"></i></a></td>
                                                <td class="mailbox-name"><b>@item.nombreContacto<b></td>
                                                <td class="mailbox-subject">@item.comentarioContacto</td>
                                                <td class="mailbox-subject"><a href="mailto:@item.correoContacto">@item.correoContacto</a></td>
                                                <td>
                                                    <div class="btn-group">
                                                        <button class="btn btn-default btn-sm" onclick="location.href='@Url.Action("EliminarContacto","Home", new {codigoContacto= item.codigoContacto})'" title="Eliminar"><i class="fa fa-trash-o"></i></button>
                                                    </div>
                                                </td>
                                            </tr>
                                        }
                                        else
                                        {
                                            <tr>
                                                <td class="mailbox-star"><a href="@Url.Action("MostrarContacto", "Home", new { codigoContacto = item.codigoContacto })"><i class="fa fa-star text-yellow"></i></a></td>
                                                <td class="mailbox-name"><b>@item.nombreContacto<b></td>
                                                <td class="mailbox-subject">@item.comentarioContacto</td>
                                                <td class="mailbox-subject"><a href="mailto:@item.correoContacto">@item.correoContacto<small class="label pull-right bg-green">nuevo</small></a></td>                                                
                                                    <td>
                                                        <div class="btn-group">
                                                            <button class="btn btn-default btn-sm" onclick="location.href='@Url.Action("EliminarContacto","Home", new {codigoContacto= item.codigoContacto})'" title="Eliminar"><i class="fa fa-trash-o"></i></button>
                                                        </div>
                                                    </td>
</tr>
                                        }
                                    }

                                </tbody>
                            </table><!-- /.table -->
                        </div><!-- /.mail-box-messages -->
                    </div><!-- /.box-body -->
                </div><!-- /. box -->
            </div><!-- /.col -->
        </div><!-- /.row -->
    }
    else
    {
        if (Session["PermisoMensaje"].ToString() == "True")
        {
            <div class="row">
                <div class="col-md-12">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">Mensajes</h3>
                        </div><!-- /.box-header -->
                        <div class="box-body no-padding">
                            <div class="mailbox-controls">
                                <!-- Check all button -->
                                <button class="btn btn-default btn-sm" onClick="location.href='@Url.Action("Index", "Home")'"><i class="fa fa-refresh"></i></button>
                            </div>
                            <div class="table-responsive mailbox-messages">
                                <table class="table table-hover table-striped">
                                    <tbody>
                                        @foreach (var item in Model.listaContacto)
                                        {
                                            if (item.visto)
                                            {
                                                <tr>
                                                    <td class="mailbox-star"><a href="@Url.Action("MostrarContacto", "Home", new { codigoContacto = item.codigoContacto })"><i class="fa fa-star-o text-yellow"></i></a></td>
                                                    <td class="mailbox-name"><b>@item.nombreContacto<b></td>
                                                    <td class="mailbox-subject">@item.comentarioContacto</td>
                                                    <td class="mailbox-subject"><a>@item.correoContacto</a></td>
                                                </tr>
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td class="mailbox-star"><a href="@Url.Action("MostrarContacto", "Home", new { codigoContacto = item.codigoContacto })"><i class="fa fa-star text-yellow"></i></a></td>
                                                    <td class="mailbox-name"><b>@item.nombreContacto<b></td>
                                                    <td class="mailbox-subject">@item.comentarioContacto</td>
                                                    <td class="mailbox-subject"><a>@item.correoContacto<small class="label pull-right bg-green">nuevo</small></a></td>
                                                </tr>
                                            }
                                        }

                                    </tbody>
                                </table><!-- /.table -->
                            </div><!-- /.mail-box-messages -->
                        </div><!-- /.box-body -->
                    </div><!-- /. box -->
                </div><!-- /.col -->
            </div>
        }
    }
}

